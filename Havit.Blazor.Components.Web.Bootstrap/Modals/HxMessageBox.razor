@namespace Havit.Blazor.Components.Web.Bootstrap
@* TODO Icon? *@
@* TODO Buttons order? *@
@* TODO Focus + Enter *@

<HxModal @ref="modal"
         Title="@Title"
         ShowCloseButton="this.ShowCloseButton"
         Settings="this.ModalSettingsEffective"
         OnClosed="HandleModalClosed"
         HeaderTemplate="this.HeaderTemplate"
         CssClass="hx-messagebox-modal"
         @attributes="this.AdditionalAttributes">
    <BodyTemplate>
        @((MarkupString)Text)
        @BodyTemplate
    </BodyTemplate>
    <FooterTemplate>
        @foreach (var button in GetButtonsToRender())
        {
            <HxButton @key="@button" Text="@button.Text"
                  OnClick="@(() => HandleButtonClick(button.Id))"
                  Settings="@((button.IsPrimary ?? false) ? this.PrimaryButtonSettingsEffective : this.SecondaryButtonSettingsEffective)" />
        }
    </FooterTemplate>
</HxModal>